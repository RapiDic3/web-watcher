<!doctype html><html><head><title>Web-watcher</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Web-watcher"><meta name=description content="Receive alerts on website changes"><meta http-equiv=content-language content="en-us"><meta name=generator content="Hugo 0.69.2"><link rel=icon href=favicon.ico><meta name=theme-color content="#000"><meta name=viewport content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no"><meta name=theme-color content="black"><meta name=twitter:card content="summary_large_image"><meta name=twitter:title content="Web-watcher"><meta name=twitter:description content="Receive alerts on website changes"><meta name=twitter:image content="https://shellbear.github.io/web-watcher/card.png"><meta name=og:title content="Web-watcher"><meta name=og:description content="Receive alerts on website changes"><meta name=og:url content="https://shellbear.github.io/web-watcher/"><meta name=og:image content="https://shellbear.github.io/web-watcher/card.png"><meta property="og:type" content="website"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="black"><link rel=stylesheet href=https://shellbear.github.io/web-watcher/css/index.css><link rel=apple-touch-icon href=https://shellbear.github.io/web-watcher/apple-touch-icon.png><link rel="shortcut icon" href=https://shellbear.github.io/web-watcher/favicon.ico type=image/x-icon></head><body><div class=Wrapper><div class=Container><div class=Header><a href=https://shellbear.github.io/web-watcher/><div class="Title center"><img alt="Web-watcher Logo" src=/web-watcher/gopher.png height=140>
<span class=text>Web-watcher</span>
<span class=subtext></span></div></a></div><div class=Content-wrapper><div class=Sidebar><div class=Menu><div class=item><a href=https://shellbear.github.io/web-watcher/>Home</a></div><div class=item><a href=https://shellbear.github.io/web-watcher/introduction/>Introduction</a></div><div class=item><a href=https://shellbear.github.io/web-watcher/requirements/>Requirements</a></div><div class=item><a href=https://shellbear.github.io/web-watcher/install/>Install</a></div><div class=item><a href=https://shellbear.github.io/web-watcher/usage/>Usage</a></div><div class=item><a href=https://shellbear.github.io/web-watcher/commands/>Commands</a></div><div class=item><a href=https://shellbear.github.io/web-watcher/credits/>Credits</a></div><div class=item><a href=https://shellbear.github.io/web-watcher/links/>Links</a></div></div></div><div class=Content><div class=Page id=Introduction><h1><a href=https://shellbear.github.io/web-watcher/introduction/>Introduction</a></h1><p>I did this project because I wanted to track changes to a website.
It helped me a lot, so I wanted to share my code with others.</p><h2 id=how-it-works>How it works?</h2><p>Currently, web-watcher only supports static HTML pages, it analyzes the structure of the page and the tags and defines a
ratio which determines whether the page has changed or not.
Thus, text changes are not detected, only changes in the structure of the page itself are detected.</p><p><strong>Example</strong></p><p>Not detected:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>first.html
....
&lt;<span style=color:#ff79c6>h1</span>&gt;Hello world!&lt;/<span style=color:#ff79c6>h1</span>&gt;
....

second.html
....
&lt;<span style=color:#ff79c6>h1</span>&gt;Goodbye world!&lt;/<span style=color:#ff79c6>h1</span>&gt;
....
</code></pre></div><p>Detected:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>first.html
....
&lt;<span style=color:#ff79c6>h1</span>&gt;Hello world!&lt;/<span style=color:#ff79c6>h1</span>&gt;
....

second.html
....
&lt;<span style=color:#ff79c6>h2</span>&gt;Goodbye world!&lt;/<span style=color:#ff79c6>h2</span>&gt;
....
</code></pre></div></div><div class=Page id=Requirements><h1><a href=https://shellbear.github.io/web-watcher/requirements/>Requirements</a></h1><p>First of all, you have to create a new discord bot, generate a token and add the bot to the server of your choice.</p><p>If you don&rsquo;t know how to so, here are some few steps:</p><p>Go to the <a href=https://discordapp.com/developers/applications>discord developer portal</a> and create a new application with the name of your choice:</p><p><img src=/web-watcher/app-creation.png alt="App creation"></p><p>Click on the <code>Bot</code> tab on the left and create a new bot:</p><p><img src=/web-watcher/bot-creation.png alt="Bot creation"></p><p>Then go to the <code>OAuth2</code> tab, check the <code>Bot</code> scope and the <code>Send messages</code> permission:</p><p><img src=/web-watcher/bot-permissions.png alt="Bot permissions"></p><p>Copy the generated URL in the middle of the screen, open it and add the bot to the server of your choice.</p><p>Congrats, you added the bot to your discord server!</p><p>Now all you have to do is to obtain your secret token. This is the token that will be used by web-watcher to connect to
discord with the <code>--token</code> option or <code>DISCORD_TOKEN</code> environment variable. For more details check the <a href=/web-watcher/usage>usage page</a>.</p><p>Return to the <code>Bot</code> tab and click on <code>Click to Reveal Token</code>:</p><p><img src=/web-watcher/bot-token.png alt="Bot token"></p><p>Copy it for the next steps and make sure to keep this token secret!</p></div><div class=Page id=Install><h1><a href=https://shellbear.github.io/web-watcher/install/>Install</a></h1><p>You can install the pre-compiled binary (in several different ways), use Docker or compile from source.</p><p>Here are the steps for each of them:</p><h2 id=install-the-pre-compiled-binary>Install the pre-compiled binary</h2><p>Download the pre-compiled binaries from the <a href=https://github.com/shellbear/web-watcher/releases>releases page</a> and
copy to the desired location.</p><h2 id=running-with-docker>Running with Docker</h2><p>You can also run it within a Docker container. Here as follows an example command:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=color:#8be9fd;font-style:italic>export</span> <span style=color:#8be9fd;font-style:italic>DISCORD_TOKEN</span><span style=color:#ff79c6>=</span>XXXXXXXXX....
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>docker run -d                                               <span style=color:#f1fa8c>\
</span><span style=color:#f1fa8c></span>    -e DISCORD_TOKEN                                        <span style=color:#f1fa8c>\
</span><span style=color:#f1fa8c></span>    -v web-watcher-data:/app                                <span style=color:#f1fa8c>\
</span><span style=color:#f1fa8c></span>    --name web-watcher                                      <span style=color:#f1fa8c>\
</span><span style=color:#f1fa8c></span>    docker.pkg.github.com/shellbear/web-watcher/web-watcher
</code></pre></div><p>The container is based on Go v1.14 image.</p><h2 id=compiling-from-source>Compiling from source</h2><p>If you feel adventurous you can compile the code from source:</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>git clone https://github.com/shellbear/web-watcher.git
<span style=color:#8be9fd;font-style:italic>cd</span> web-watcher

<span style=color:#6272a4># get dependencies using go modules (needs go 1.11+)</span>
go get ./...

<span style=color:#6272a4># build</span>
go build -o web-watcher .

<span style=color:#6272a4># check it works</span>
./web-watcher
</code></pre></div></div><div class=Page id=Usage><h1><a href=https://shellbear.github.io/web-watcher/usage/>Usage</a></h1><p>You can pass customize some options.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>&gt; web-watcher --help
Web-watcher discord Bot.

Options:
  -interval int
        The watcher interval in minutes <span style=color:#ff79c6>(</span>default 60<span style=color:#ff79c6>)</span>
  -prefix string
        The discord commands prefix <span style=color:#ff79c6>(</span>default <span style=color:#f1fa8c>&#34;!&#34;</span><span style=color:#ff79c6>)</span>
  -ratio float
        Changes detection ratio <span style=color:#ff79c6>(</span>default 1<span style=color:#ff79c6>)</span>
  -token string
        Discord token

</code></pre></div><h2 id=arguments>Arguments</h2><p><code>--interval</code></p><p>The watcher interval in minutes (default 60).</p><p>The watcher will check for website changes at this given interval.</p><p><code>--prefix</code></p><p>The discord commands prefix (default !).</p><p><code>--ratio</code></p><p>The web page changes ratio. Must be between 0.0 and 1.0.</p><p>Every x minutes the watcher will fetch the website page and compares it with the previous version. It will check changes
and convert these changes to a ratio. If page are identical, this ratio is equals to 1.0, and it will decrease for every
detected change.</p><p><code>--token</code></p><p>The discord bot token. The token can also be passed with the <code>DISCORD_TOKEN</code> environment variable.</p><p>If you don&rsquo;t know how to generate one, a quick tutorial describes all the steps in the <a href=/web-watcher/requirements/>requirements page</a>.</p></div><div class=Page id=Commands><h1><a href=https://shellbear.github.io/web-watcher/commands/>Commands</a></h1><p><code>!watch [URL]</code></p><p>Add a URL to the watchlist.</p><p><code>!unwatch [URL]</code></p><p>Remove a URL from the watchlist.</p><p><code>!watchlist</code></p><p>Get the complete watchlist.</p><p>Note: you can customize the command prefix (<strong>!</strong>) with the <code>--prefix</code> parameter, for information, check the <a href=/web-watcher/usage>usage</a> page.</p></div><div class=Page id=Credits><h1><a href=https://shellbear.github.io/web-watcher/credits/>Credits</a></h1><p>This bot is built with these awesome dependencies:</p><ul><li><a href=https://github.com/pmezard/go-difflib>go-difflib</a> - Partial port of Python difflib package to Go</li><li><a href=https://github.com/cespare/xxhash>xxhash</a> - Go implementation of the 64-bit xxHash algorithm (XXH64)</li><li><a href=https://github.com/jinzhu/gorm>Gorm</a> - The fantastic ORM library for Golang</li><li><a href=https://github.com/bwmarrin/discordgo>DiscordGo</a> - Go bindings for Discord</li></ul></div><div class=Page id=Links><h1><a href=https://shellbear.github.io/web-watcher/links/>Links</a></h1><ul><li>Follow the progress on the <a href=https://github.com/shellbear/web-watcher>GitHub repository</a></li><li>Follow me on twitter <a href=https://twitter.com/_shellbear>@_shellbear</a></li></ul></div><div class=Footer><p>Made with ❤️️ by shellbear.</p></div><script src=https://shellbear.github.io/web-watcher/js/index.js></script></div></div></div></body></html>